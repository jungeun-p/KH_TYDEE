<!DOCTYPE html>
<html>

<head>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://kit.fontawesome.com/3914a9940d.js" crossorigin="anonymous"></script>
</head>

<body>
    <span id="addarea"><i class="fas fa-plus"></i></span>
    <script>
        let add = document.getElementById("addarea");
        add.addEventListener("click", () => {
            let dimsection = document.createElement("section");
            dimsection.setAttribute("class", "dim__layer");


            let dimbg = document.createElement("div");
            dimbg.setAttribute("class", "dim__background");
            dimsection.appendChild(dimbg);


            let addlayer = document.createElement("article");
            addlayer.setAttribute("class", "pop__layer");

            let closebutton = document.createElement("div");
            closebutton.setAttribute("class", "pop__buttons");
            let span1 = document.createElement("span");
            span1.setAttribute("id", "closearea");
            let iclose = document.createElement("i");
            iclose.setAttribute("class", "fas fa-times");
            span1.appendChild(iclose);

            closebutton.appendChild(span1);
            addlayer.appendChild(closebutton);


            let menu = document.createElement("div");
            menu.setAttribute("class", "pop__menu");
            let p0 = document.createElement("p");
            let label0 = document.createElement("label");
            label0.setAttribute("for", "tiny_type");
            label0.textContent = "TYPE";
            p0.appendChild(label0);
            let p1 = document.createElement("p");
            let label1 = document.createElement("label");
            label1.setAttribute("for", "tiny_title");
            label1.textContent = "NAME";
            p1.appendChild(label1);
            let p2 = document.createElement("p");
            let label2 = document.createElement("label");
            label2.setAttribute("for", "tiny_content");
            label2.textContent = "CONTENT";
            p2.appendChild(label2);
            let p3 = document.createElement("p");
            let label3 = document.createElement("label");
            label3.setAttribute("for", "tiny_image");
            label3.textContent = "IMAGE";
            p3.appendChild(label3);
            let p4 = document.createElement("p");
            let label4 = document.createElement("label");
            label4.setAttribute("for", "tiny_depth")
            label4.textContent = "UPPER TYDEE";
            p4.appendChild(label4);

            menu.appendChild(p0);
            menu.appendChild(p1);
            menu.appendChild(p2);
            menu.appendChild(p3);
            menu.appendChild(p4);
            addlayer.appendChild(menu);


            let contents = document.createElement("div");
            contents.setAttribute("class", "pop__contents");

            let form = document.createElement("form");
            form.setAttribute("action", "mytydee.do");
            form.setAttribute("method", "post");
            form.setAttribute("id", "insert-form");
            let command = document.createElement("input");
            command.setAttribute("type", "hidden");
            command.setAttribute("name", "command");
            command.setAttribute("value", "insert");
            form.appendChild(command);

            let typediv = document.createElement("div");

            let typeD = document.createElement("input");
            typeD.setAttribute("class", "pop__content");
            typeD.setAttribute("type", "radio");
            typeD.setAttribute("name", "tiny_type");
            typeD.setAttribute("value", "D");
            typeD.setAttribute("id", "typeD");
            let labelD = document.createElement("label");
            labelD.setAttribute("for", "typeD");
            labelD.textContent = "TYDEE";

            let typeN = document.createElement("input");
            typeN.setAttribute("class", "pop__content");
            typeN.setAttribute("type", "radio");
            typeN.setAttribute("name", "tiny_type");
            typeN.setAttribute("value", "N");
            typeN.setAttribute("id", "typeN");
            typeN.setAttribute("checked", "checked");
            typeN.required = true;
            let labelN = document.createElement("label");
            labelN.setAttribute("for", "typeN");
            labelN.textContent = "TINY";

            typediv.appendChild(typeD);
            typediv.appendChild(labelD);
            typediv.appendChild(typeN);
            typediv.appendChild(labelN);
            contents.appendChild(typediv);

            let title = document.createElement("input");
            title.setAttribute("class", "pop__content");
            title.setAttribute("type", "text");
            title.setAttribute("name", "tiny_title");
            title.required = true;
            let content = document.createElement("textarea");
            content.setAttribute("class", "pop__content");
            content.setAttribute("type", "text");
            content.setAttribute("name", "tiny_content");
            content.setAttribute("style", "resize:none;")
            let image = document.createElement("input");
            image.setAttribute("class", "pop__content");
            image.setAttribute("type", "file");
            image.setAttribute("name", "tiny_image");
            let tiny_depth = document.createElement("select");
            tiny_depth.setAttribute("class", "pop__content");
            tiny_depth.required = true;

            contents.appendChild(title);
            contents.appendChild(content);
            contents.appendChild(image);
            contents.appendChild(tiny_depth);
            form.appendChild(contents);
            addlayer.appendChild(form);

            let insertbutton = document.createElement("div");
            insertbutton.setAttribute("class", "pop__buttons");
            let span2 = document.createElement("span");
            span2.setAttribute("id", "insertarea");
            let icheck = document.createElement("i");
            icheck.setAttribute("class", "fas fa-check");
            span2.appendChild(icheck);
            insertbutton.appendChild(span2);
            addlayer.appendChild(insertbutton);
            dimsection.appendChild(addlayer);
            document.body.appendChild(dimsection);
            let exit = document.getElementById("closearea");
            exit.addEventListener("click", () => {
                document.getElementsByClassName("dim__layer")[0].remove();
            });
            let send = document.getElementById("insertarea");
            send.addEventListener("click", () => {
                let typefield = document.getElementsByName("tiny_type")[0];
                let titlefield = document.getElementsByName("tiny_title")[0];
                if (titlefield.value == '') {
                    alert("이름을 입력해주세요");
                    titlefield.focus();
                    return false;
                } else {
                    let insert = document.getElementById("insert-form");
                    insert.submit();
                }
            });
        });
    </script>
</body>

</html>